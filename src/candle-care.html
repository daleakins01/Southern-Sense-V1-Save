---
layout: layout.html
title: Candle Care Guide
---

<header class="relative w-full h-80 bg-cover bg-center" style="background-image: url('/src/candles-header.webp');">
    <div class="absolute inset-0 bg-charcoal/40 flex items-center justify-center">
        <h1 id="care-header-title" class="font-playfair text-6xl font-extrabold text-parchment drop-shadow-lg">Candle Care Guide</h1>
    </div>
</header>

<main class="container mx-auto p-4 lg:p-8 py-16">

    <div id="loading-state" class="text-center p-12 bg-parchment rounded-xl shadow-lg border border-stone/10">
        <p class="font-playfair text-2xl text-stone">Loading best practices for longevity...</p>
        <div class="mt-4 animate-spin rounded-full h-8 w-8 border-b-2 border-burnt-orange mx-auto"></div>
    </div>

    <section id="care-section" class="max-w-4xl mx-auto space-y-12 hidden">

        <div class="text-center mb-10">
            <h2 class="font-playfair text-4xl font-bold text-charcoal mb-4">Extend the Life of Your Scent</h2>
            <div id="care-overview-content" class="prose max-w-none text-stone font-roboto text-lg mx-auto">
                <p>Care overview loading...</p>
            </div>
        </div>

        <div class="grid md:grid-cols-2 gap-8">
            <div class="bg-white p-6 rounded-xl shadow-lg border border-stone/10 space-y-3">
                <h3 id="tip-1-title" class="font-playfair text-2xl font-bold text-burnt-orange">The First Burn</h3>
                <p id="tip-1-text" class="text-stone">Text loading...</p>
            </div>

            <div class="bg-white p-6 rounded-xl shadow-lg border border-stone/10 space-y-3">
                <h3 id="tip-2-title" class="font-playfair text-2xl font-bold text-burnt-orange">Wick Trimming</h3>
                <p id="tip-2-text" class="text-stone">Text loading...</p>
            </div>

            <div class="bg-white p-6 rounded-xl shadow-lg border border-stone/10 space-y-3">
                <h3 id="tip-3-title" class="font-playfair text-2xl font-bold text-burnt-orange">Optimal Burn Time</h3>
                <p id="tip-3-text" class="text-stone">Text loading...</p>
            </div>

            <div class="bg-white p-6 rounded-xl shadow-lg border border-stone/10 space-y-3">
                <h3 id="tip-4-title" class="font-playfair text-2xl font-bold text-burnt-orange">Safety First</h3>
                <p id="tip-4-text" class="text-stone">Text loading...</p>
            </div>
        </div>

    </section>

</main>

<script type="module">
    // FIX: Corrected import path to include /src/ directory
    import { db, doc, getDoc } from '/src/firebase-loader.js'; 

    // --- DOM Elements ---
    const loadingState = document.getElementById('loading-state');
    const careSection = document.getElementById('care-section');
    const careHeaderTitle = document.getElementById('care-header-title');
    const careOverviewContent = document.getElementById('care-overview-content');
    
    // Tip Elements
    const tip1Title = document.getElementById('tip-1-title');
    const tip1Text = document.getElementById('tip-1-text');
    const tip2Title = document.getElementById('tip-2-title');
    const tip2Text = document.getElementById('tip-2-text');
    const tip3Title = document.getElementById('tip-3-title');
    const tip3Text = document.getElementById('tip-3-text');
    const tip4Title = document.getElementById('tip-4-title');
    const tip4Text = document.getElementById('tip-4-text');


    /**
     * Loads dynamic content for the Candle Care page from Firestore.
     */
    async function loadCareContent() {
        console.log("Candle Care Page: Loading content from Firestore...");
        
        loadingState.classList.remove('hidden');
        careSection.classList.add('hidden');

        try {
            // Document reference for the 'candle-care' page content
            const docRef = doc(db, "siteContent", "candle-care");
            const docSnap = await getDoc(docRef);

            if (docSnap.exists()) {
                const data = docSnap.data();
                
                // 1. Header and Overview
                careHeaderTitle.textContent = data.careHeaderTitle || "Candle Care Guide";
                careOverviewContent.innerHTML = data.careOverviewContent || "<p>Care overview not set.</p>";
                
                // 2. Care Tips
                tip1Title.textContent = data.tip1Title || "First Burn";
                tip1Text.textContent = data.tip1Text || "Details about first burn loading...";
                tip2Title.textContent = data.tip2Title || "Wick Trimming";
                tip2Text.textContent = data.tip2Text || "Details about trimming loading...";
                tip3Title.textContent = data.tip3Title || "Optimal Burn Time";
                tip3Text.textContent = data.tip3Text || "Details about burn time loading...";
                tip4Title.textContent = data.tip4Title || "Safety First";
                tip4Text.textContent = data.tip4Text || "Details about safety loading...";
                
                // Success: Hide loading, show content
                loadingState.classList.add('hidden');
                careSection.classList.remove('hidden');

            } else {
                console.warn("Candle Care Page: Document 'siteContent/candle-care' does not exist.");
                loadingState.innerHTML = `<p class="font-playfair text-2xl text-red-600">Error: Candle Care configuration document not found.</p>`;
            }
        } catch (error) {
            console.error("Error fetching Candle Care content:", error);
            loadingState.innerHTML = `<p class="font-playfair text-2xl text-red-600">Error loading content: ${error.message}</p>`;
        }
    }

    document.addEventListener('DOMContentLoaded', loadCareContent);
</script>