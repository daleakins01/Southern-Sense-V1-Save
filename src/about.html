---
layout: layout
title: Our Story
---

<script type="module">
    import { db, doc, getDoc } from '/firebase-loader.js';

    // --- DOM Elements ---
    const contentLoader = document.getElementById('content-loader');
    const aboutContent = document.getElementById('about-content');
    const aboutHeading = document.getElementById('about-heading');
    const aboutBody = document.getElementById('about-body');
    const portraitImage = document.getElementById('portrait-image');
    const founderTitle = document.getElementById('founder-title');
    const founderCaption = document.getElementById('founder-caption');

    /**
     * Fetches the 'about' document from Firestore and injects content into the page.
     */
    async function loadAboutPageContent() {
        // Show loader while fetching
        contentLoader.classList.remove('hidden');
        aboutContent.classList.add('hidden');

        try {
            const aboutRef = doc(db, 'siteContent', 'about');
            const docSnap = await getDoc(aboutRef);

            if (docSnap.exists()) {
                const data = docSnap.data();

                // 1. Inject Main Heading and Body
                aboutHeading.textContent = data.heading || 'Our Southern Story';
                // Using innerHTML allows the body content to contain simple HTML tags (like <p>) entered via the Admin CMS
                aboutBody.innerHTML = data.bodyText || '<p>The story content is currently missing. Please update it via the Admin Content Management System.</p>';

                // 2. Inject Portrait details
                portraitImage.src = data.imagePath || '/src/paula-bryan-portrait.webp';
                portraitImage.alt = data.portraitTitle || 'Paula Bryan, Founder';
                founderTitle.textContent = data.portraitTitle || 'Paula Bryan, Founder';
                founderCaption.textContent = data.portraitCaption || 'Hand-poured luxury from our home to yours.';
                
            } else {
                // Document not found
                aboutHeading.textContent = 'Content Missing';
                aboutBody.innerHTML = '<p class="text-red-600">The core "about" document could not be found in the database. Please check Firestore.</p>';
            }

        } catch (error) {
            console.error("Error loading About page content:", error);
            aboutHeading.textContent = 'Error Loading Page';
            aboutBody.innerHTML = '<p class="text-red-600">A network error occurred while fetching content. Please try again later.</p>';
        } finally {
            // Hide loader and show content
            contentLoader.classList.add('hidden');
            aboutContent.classList.remove('hidden');
        }
    }

    document.addEventListener('DOMContentLoaded', loadAboutPageContent);

</script>

<main class="container mx-auto px-4 py-12 min-h-screen">
    
    <div id="content-loader" class="flex justify-center items-center h-64">
        <div class="animate-spin rounded-full h-16 w-16 border-t-4 border-b-4 border-charcoal"></div>
    </div>

    <div id="about-content" class="hidden">
        <div class="grid grid-cols-1 lg:grid-cols-3 gap-12">
            
            <div class="lg:col-span-2">
                <p class="text-sm font-semibold uppercase tracking-wider text-burnt-orange mb-3">Our Founding Values</p>
                <h1 id="about-heading" class="text-5xl font-playfair text-charcoal mb-8">
                    Loading Heading...
                </h1>

                <div id="about-body" class="space-y-6 text-lg text-stone leading-relaxed">
                    </div>
            </div>

            <div class="lg:col-span-1">
                <div class="sticky top-12">
                    <img id="portrait-image" 
                         src="/src/paula-bryan-portrait.webp" 
                         alt="Paula Bryan, Founder of Southern Sense" 
                         class="w-full h-auto object-cover rounded-lg shadow-xl mb-6">
                    
                    <div class="border-l-4 border-burnt-orange pl-4">
                        <h3 id="founder-title" class="text-2xl font-playfair text-charcoal">
                            Loading Title...
                        </h3>
                        <p id="founder-caption" class="text-stone italic mt-1">
                            Loading Caption...
                        </p>
                    </div>
                </div>
            </div>

        </div>

        <div class="mt-16 pt-12 border-t border-stone/20">
            <h2 class="text-4xl font-playfair text-charcoal text-center mb-10">
                The Southern Sense Difference
            </h2>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-8 text-center">
                
                <div class="p-6 bg-parchment rounded-lg shadow-md">
                    <img src="/src/finest-wax.webp" alt="Finest Wax" class="w-20 h-20 mx-auto mb-4">
                    <h3 class="text-xl font-playfair text-burnt-orange mb-2">Finest Wax Blend</h3>
                    <p class="text-stone text-sm">Our proprietary blend ensures a clean, slow burn, free of harmful additives, for a perfect scent throw every time.</p>
                </div>

                <div class="p-6 bg-parchment rounded-lg shadow-md">
                    <img src="/src/clean-oils.webp" alt="Clean Oils" class="w-20 h-20 mx-auto mb-4">
                    <h3 class="text-xl font-playfair text-burnt-orange mb-2">Clean, Safe Oils</h3>
                    <p class="text-stone text-sm">All fragrance oils are phthalate-free and rigorously tested, meeting the highest standards for safety and purity.</p>
                </div>

                <div class="p-6 bg-parchment rounded-lg shadow-md">
                    <img src="/src/logo.webp" alt="Hand Poured" class="w-20 h-20 mx-auto mb-4">
                    <h3 class="text-xl font-playfair text-burnt-orange mb-2">Hand-Poured Quality</h3>
                    <p class="text-stone text-sm">Every candle is hand-poured in small batches, guaranteeing meticulous attention to detail and consistent quality.</p>
                </div>
            </div>
        </div>
    </div>
</main>